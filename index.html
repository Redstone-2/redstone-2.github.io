<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<title>Projects</title>
	<link href="style.css" rel="stylesheet">
</head>
<body>
	<div id="header">
		<a href="index.html" class="active" target="#home">Projects</a>
		<a href="about.html" target="#about">About Me</a>
	</div>
	<div id="playspace" onClick="deal()">
		<div class = "card anim">		
			<img src= "cards-removebg.png" alt="card back" class ="card-back ">
			<div class="card-front flip animflip" onClick="window.open('https://github.com/Redstone-2/CITComputerClub2','gitpage')">
				<div class="card-data">
					<h1>Computer Club</h1>
					<p>Website contender designed for a team project to represent the Deep Run High School Computer Club.</p>
				</div>
			</div>
		</div>
		<div class = "card anim">		
			<img src= "cards-removebg.png" alt="card back" class ="card-back animflip">
			<div class="card-front flip animflip" onClick="window.open('./listicle.html','#listicle')">
				<div class="card-data">
					<h1>Listicle</h1>
					<p>A website built as classwork for application development.</p>
				</div>
			</div>
		</div>
		<div class = "card anim">		
			<img src= "cards-removebg.png" alt="card back" class ="card-back animflip">
			<div class="card-front flip animflip" onClick="window.open('bookPromo.html','#book')">
				<div class="card-data">
					<h1>Book Promo</h1>
					<p>A website to display knowlage of the HTML unit.</p>
				</div>
			</div>
		</div>
		<div class = "card anim">		
			<img src= "cards-removebg.png" alt="card back" class ="card-back animflip">
			<div class="card-front flip animflip" onClick="window.open('','')">
				<div class="card-data">
					<h1>hello</h1>
				</div>
			</div>
		</div>
		<div class = "card anim">		
			<img src= "cards-removebg.png" alt="card back" class ="card-back animflip">
			<div class="card-front flip animflip" onClick="window.open('','')">
				<div class="card-data">
					<h1>hello</h1>
				</div>
			</div>
		</div>
	</div>
	<div class="inst">
		<p id="tip">Click on the deck to deal the cards.</p>
	</div>
</body>
<script>
async function deal(){
		var cards = document.getElementsByClassName("card");
		var temp = [];
		var vh = 100;
		var cdh = document.getElementsByClassName("card-back")[0].height;
		for(var i = 0; i<cards.length; i++){
			temp.push(cards[i]);
		}
		cards = temp;
		for(var i = 0; i<cards.length; i++){
			cards[i].classList.remove("card");
			cards[i].classList.add("card-ready");
		}
		await pause(1000);
		for(var i = 0; i<cards.length; i += 5){
			try{
			cards[i].style.left = "10%";
			cards[i].style.top = vh+"px";
			await pause(1000);
			}catch(error){}try{
			cards[i+1].style.left = "30%";
			cards[i+1].style.top = vh+"px";
			await pause(1000);
			}catch(error){}try{
			cards[i+4].style.left = "90%";
			cards[i+4].style.top = vh+"px";
			await pause(1000);
			}catch(error){}try{
			cards[i+3].style.left = "70%";
			cards[i+3].style.top = vh+"px";
			await pause(1000);
			}catch(error){}try{
			cards[i+2].style.top = vh+"px";
			await pause(1000);
			}catch(error){}
			vh += cdh + 30;
		}
		cards = document.getElementsByClassName("card-ready");
		console.log(cards);
		for(var i = 0; i<cards.length; i++){
			try{
			document.getElementsByClassName("card-back")[i].classList.add("flip");
			document.getElementsByClassName("card-front")[i].classList.remove("flip");
			}catch(error){}
		}
		var obj = document.getElementById("tip");
		obj.innerHTML = "Click on a card to go to that project."
		obj.style.margin = (obj.width /2) +"px";
		obj.style.left = "50%";
		sessionStorage.setItem("played", true);

}
function pause(ms) {
	return new Promise((resolve) => setTimeout(resolve, ms));
}

function skipload(){
	var cards = document.getElementsByClassName("card");
	var temp = [];
	var vh = 100;
	var cdh = document.getElementsByClassName("card-back")[0].height;
	for(var i = 0; i<cards.length; i++){
		temp.push(cards[i]);
	}
	cards = temp;
	for(var i = 0; i<cards.length; i++){
		cards[i].classList.remove("card");
		cards[i].classList.remove("anim");
		cards[i].classList.add("card-ready");
	}
	for(var i = 0; i<cards.length; i += 5){
		try{
		cards[i].style.left = "10%";
		cards[i].style.top = vh+"px";
		}catch(error){}try{
		cards[i+1].style.left = "30%";
		cards[i+1].style.top = vh+"px";
		}catch(error){}try{
		cards[i+4].style.left = "90%";
		cards[i+4].style.top = vh+"px";
		}catch(error){}try{
		cards[i+3].style.left = "70%";
		cards[i+3].style.top = vh+"px";
		}catch(error){}try{
		cards[i+2].style.top = vh+"px";
		}catch(error){}
		vh += cdh + 30;
	}
	cards = document.getElementsByClassName("card-ready");
	console.log(cards);
	for(var i = 0; i<cards.length; i++){
		try{
		document.getElementsByClassName("card-back")[i].classList.remove("animflip");
		document.getElementsByClassName("card-front")[i].classList.remove("animflip");
		document.getElementsByClassName("card-back")[i].classList.add("flip");
		document.getElementsByClassName("card-front")[i].classList.remove("flip");
		}catch(error){}
	}
					
}
var obj = document.getElementById("tip");
obj.innerHTML = "Click on a card to go to that project."
obj.style.margin = (obj.width /2) +"px";
obj.style.left = "50%";
window.name = "#home"; window.onbeforeunload=function(){window.name="";};
var params = new URLSearchParams(location.search);
if(localStorage.getItem("fromLink") == true && localStorage.getItem("played")== true){
	skipload();
	sessionStorage.setItem("fromLink", false);
	console.log(sessionStorage.getItem("fromLink") + "||" + localStorage.getItem("played"))
} else{
	localStorage.setItem("played", false);
	localStorage.setItem("fromLink", false);
	console.log(localStorage.getItem("fromLink") + "|" + localStorage.getItem("played"))
}
	addEventListener('storage', (event) => { console.log("detected") });
	</script>
</html>
